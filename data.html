<!doctype html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>DriveSphere — Data Manipulation</title>
    <link rel="stylesheet" href="assets/css/style.css" />
    <script defer src="assets/js/cars-data.js"></script>
    <script defer src="assets/js/data.js"></script>
</head>

<body>
    <header class="site-header">
        <h1>DriveSphere</h1>
        <!-- Primary navigation -->
        <nav class="nav">
            <a href="index.html">Welcome</a>
            <a class="active" href="data.html">Data</a>
            <a href="about.html">About</a>
        </nav>
    </header>

    <main class="container">
        <section class="panel">
            <!-- LEFT COLUMN: form + search -->
            <div class="panel-left">
                <h3>Add a new car</h3>

                <!-- Add-car form (creates a new object into the array) -->
                <form id="addCarForm" class="form-grid">
                    <label>Registration Number
                        <input type="text" name="reg" id="reg" required placeholder="e.g., 221-KK-1234" />
                    </label>

                    <!-- Make: free text aided by datalist -->
                    <label>Make
                        <input type="text" name="make" id="make" placeholder="Start typing a make…" list="makeList"
                            autocomplete="off" />
                        <datalist id="makeList">
                            <option value="Ford"></option>
                            <option value="Hyundai"></option>
                            <option value="Toyota"></option>
                            <option value="Renault"></option>
                            <option value="Nissan"></option>
                            <option value="Tesla"></option>
                            <option value="Audi"></option>
                            <option value="Cupra"></option>
                            <option value="Fiat"></option>
                            <option value="Bmw"></option>
                            <option value="Mercedes"></option>
                            <option value="Volkswagen"></option>
                            <option value="Peugeot"></option>
                            <option value="Skoda"></option>
                            <option value="Kia"></option>
                            <option value="Seat"></option>
                            <option value="Opel"></option>
                            <option value="Citroen"></option>
                            <option value="Volvo"></option>
                            <option value="Mazda"></option>
                            <option value="Honda"></option>
                        </datalist>
                    </label>

                    <!-- Model: enabled/filtered after a valid make -->
                    <label>Model
                        <input type="text" name="model" id="model" placeholder="Select a make first" list="modelList"
                            autocomplete="off" disabled />
                        <datalist id="modelList"></datalist>
                    </label>

                    <label>Colour
                        <input type="text" name="colour" id="colour" required placeholder="e.g., Blue" />
                    </label>

                    <label>Fuel type
                        <select id="fuelType" name="fuelType" required>
                            <option value="" disabled selected hidden>Select fuel type</option>
                            <option value="Petrol">Petrol</option>
                            <option value="Diesel">Diesel</option>
                            <option value="Hybrid">Hybrid</option>
                            <option value="Plug-in Hybrid">Plug-in Hybrid</option>
                            <option value="Electric">Electric</option>
                        </select>
                    </label>

                    <label>Seats
                        <input type="number" id="seats" name="seats" min="2" max="9" required placeholder="e.g., 5" />
                    </label>

                    <div class="form-actions">
                        <button class="btn" type="submit">Add a New Car</button>
                        <button class="btn ghost" type="reset">Clear the Info</button>
                    </div>
                </form>

                <hr />

                <h3>Search</h3>
                <div class="search-rows">
                    <!-- Row 1: find by regNo -->
                    <div class="row">
                        <label>Find by Registration
                            <input type="text" id="searchReg" placeholder="e.g., 211-WD-234" />
                        </label>
                        <button class="btn" id="btnFind" type="button">Find</button>
                    </div>

                    <!-- Row 2: filter by make (and optional colour) -->
                    <div class="row">
                        <label>Filter by Make
                            <input type="text" id="searchMake" placeholder="e.g., toyota" />
                        </label>
                        <label>Filter by Colour (optional)
                            <input type="text" id="searchColour" placeholder="e.g., blue" />
                        </label>
                        <button class="btn" id="btnFilter" type="button">Filter</button>
                        <button class="btn ghost" id="btnClearSearch" type="button">Clear</button>
                    </div>
                </div>

                <!-- Search feedback / results count -->
                <div id="searchOutput" class="muted" style="margin-top:.5rem;"></div>
            </div>

            <!-- RIGHT COLUMN: main table + filtered results table -->
            <div class="panel-right">
                <h3>Cars table</h3>
                <div class="table-wrap">
                    <table id="carsTable" class="table table-compact">
                        <thead>
                            <tr>
                                <th>Reg. No</th>
                                <th>Make</th>
                                <th>Model</th>
                                <th>Colour</th>
                                <th>Fuel</th>
                                <th>Seats</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="carsBody"></tbody>
                    </table>
                </div>
                <p class="muted" id="countLabel"></p>

                <h3 style="margin-top:1rem;">Filter results</h3>
                <div class="table-wrap">
                    <table id="filterTable" class="table table-compact">
                        <thead>
                            <tr>
                                <th>Reg. No</th>
                                <th>Make</th>
                                <th>Model</th>
                                <th>Colour</th>
                                <th>Fuel</th>
                                <th>Seats</th>
                            </tr>
                        </thead>
                        <tbody id="filterBody"></tbody>
                    </table>
                </div>
            </div>
        </section>
    </main>

</body>

</html>